# PS — Font System Update

Three files change: `client/index.html`, `client/src/index.css`, `server/pdf-generator.tsx`. No component files change — the CSS variable system and PDF font family names handle everything automatically. Do not touch any `.tsx` component files.

---

## 1. `client/index.html` — Add Cormorant Garamond to the Google Fonts URL

The existing `<link>` tag already loads Geist and Geist Mono (they are present in the URL). Add Cormorant Garamond to the same URL. The font needs these weights and styles: 300, 400, 500, 600, 700, plus italics for all weights, since titles will occasionally use italic.

Find the existing Google Fonts `<link href="https://fonts.googleapis.com/css2?family=...">` tag and add the following family parameter to it (insert alongside the existing families, keeping `&display=swap` at the end):

```
family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700
```

Do not remove any existing families from the URL. Just add this one.

---

## 2. `client/src/index.css` — Update the three CSS font variables

Find the `:root` block. Update these three lines only:

**Before:**
```css
--font-sans: 'DM Sans', 'Inter', sans-serif;
--font-serif: 'Playfair Display', 'Georgia', serif;
--font-mono: 'Fira Code', monospace;
```

**After:**
```css
--font-sans: 'Geist', 'Inter', sans-serif;
--font-serif: 'Cormorant Garamond', 'Georgia', serif;
--font-mono: 'Geist Mono', monospace;
```

Do not change anything else in `index.css`. The `.dark` block does not need to change because font variables are only declared in `:root`. Do not add any new CSS rules. Do not change any color values, spacing, or other variables.

---

## 3. `server/pdf-generator.tsx` — Update PDF font registrations

The PDF generator uses `@react-pdf/renderer`'s `Font.register()` to embed fonts from Google Fonts static URLs. There are two existing `Font.register()` calls near the top of the file — one for `"Serif"` (currently Playfair Display) and one for `"Sans"` (currently DM Sans). Update both.

**Replace the Serif registration:**

Before:
```typescript
Font.register({
  family: "Serif",
  fonts: [
    { src: "https://fonts.gstatic.com/s/playfairdisplay/v40/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvUDQ.ttf", fontWeight: 400 },
    { src: "https://fonts.gstatic.com/s/playfairdisplay/v40/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKeiukDQ.ttf", fontWeight: 700 },
  ],
});
```

After:
```typescript
Font.register({
  family: "Serif",
  fonts: [
    { src: "https://fonts.gstatic.com/s/cormorantgaramond/v22/co3YmX5slCNuHLi8bLeY9MK7whWMhyjYqXtK.ttf", fontWeight: 400 },
    { src: "https://fonts.gstatic.com/s/cormorantgaramond/v22/co3YmX5slCNuHLi8bLeY9MK7whWMhyjYqXtK.ttf", fontWeight: 400, fontStyle: "italic" },
    { src: "https://fonts.gstatic.com/s/cormorantgaramond/v22/co3VmX5slCNuHLi8bLeY9MK7whWMhyjornFLsS6V7w.ttf", fontWeight: 700 },
  ],
});
```

**Replace the Sans registration:**

Before:
```typescript
Font.register({
  family: "Sans",
  fonts: [
    { src: "https://fonts.gstatic.com/s/dmsans/v17/rP2tp2ywxg089UriI5-g4vlH9VoD8CmcqZG40F9JadbnoEwAopxhTg.ttf", fontWeight: 400 },
    { src: "https://fonts.gstatic.com/s/dmsans/v17/rP2tp2ywxg089UriI5-g4vlH9VoD8CmcqZG40F9JadbnoEwAfJthTg.ttf", fontWeight: 600 },
  ],
});
```

After:
```typescript
Font.register({
  family: "Sans",
  fonts: [
    { src: "https://fonts.gstatic.com/s/geist/v1/gyByhwUxId8gMEwcGFy9sGNhMwM.ttf", fontWeight: 400 },
    { src: "https://fonts.gstatic.com/s/geist/v1/gyByhwUxId8gMEwcGFy9sGNhMwM.ttf", fontWeight: 600 },
  ],
});
```

**Important note on the Geist PDF URLs:** Geist is a relatively new font and its exact gstatic.com static TTF paths may not yet be indexed. If the Geist static URLs above return a 404 when the PDF is generated, fall back to Inter instead, which has stable gstatic paths. Use this fallback Sans registration:

```typescript
// Fallback if Geist static URLs don't resolve:
Font.register({
  family: "Sans",
  fonts: [
    { src: "https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfAZ9hiJ-Ek-_EeA.woff2", fontWeight: 400 },
    { src: "https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuI6fAZ9hiJ-Ek-_EeA.woff2", fontWeight: 600 },
  ],
});
```

The PDF font family name strings `"Serif"` and `"Sans"` remain unchanged — all the style rules throughout the file that reference `fontFamily: "Serif"` and `fontFamily: "Sans"` continue to work automatically.

---

## Summary of what changes visually

- **All UI text** (labels, buttons, inputs, navigation, cards, menus): DM Sans → Geist. Slightly more geometric and precise, better at dense information sizes.
- **All serif headings** (trip titles, day headings, section headings, dialog titles, page titles, auth page headings, dashboard headings, settings headings): Playfair Display → Cormorant Garamond. More distinctive editorial character, higher stroke contrast, better italics.
- **All monospace text** (booking codes, confirmation numbers, flight numbers, share tokens): Fira Code → Geist Mono. Same geometric DNA as Geist, cohesive with the sans.
- **PDF cover title, day headers, segment titles, total labels**: Playfair Display → Cormorant Garamond via the updated `"Serif"` font family registration.
- **PDF body text**: DM Sans → Geist (or Inter fallback) via the updated `"Sans"` font family registration.